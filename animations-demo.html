<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animations Demo - CodeQuest</title>
    <link rel="stylesheet" href="design-system.css">
    <link rel="stylesheet" href="css/animations.css">
    <style>
        .demo-section {
            margin: 2rem 0;
            padding: 1.5rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
        }
        
        .animation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 1rem 0;
        }
        
        .animation-card {
            background: var(--background-secondary);
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
            border: 1px solid var(--border-color);
        }
        
        .animation-preview {
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 1rem 0;
            background: var(--background-primary);
            border-radius: 4px;
            border: 1px dashed var(--border-color);
        }
        
        .controls {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            flex-wrap: wrap;
            margin: 1rem 0;
        }
        
        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 4px;
            background: var(--primary-color);
            color: white;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }
        
        .btn:hover {
            background: var(--primary-dark);
        }
        
        .btn-secondary {
            background: var(--background-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }
        
        .btn-success {
            background: var(--success-color);
        }
        
        .btn-error {
            background: var(--error-color);
        }
        
        .demo-element {
            width: 60px;
            height: 60px;
            background: var(--primary-color);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .loading-message,
        .success-message,
        .error-message {
            margin-top: 1rem;
            font-weight: 600;
        }
        
        .success-message {
            color: var(--success-color);
        }
        
        .error-message {
            color: var(--error-color);
        }
        
        .code-display {
            background: var(--background-dark);
            color: var(--text-light);
            padding: 1rem;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.9rem;
            margin: 1rem 0;
            overflow-x: auto;
        }
        
        .skeleton-demo {
            width: 100%;
            height: 20px;
            border-radius: 4px;
            margin: 0.5rem 0;
        }
        
        .operation-demo {
            background: var(--background-primary);
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
            min-height: 150px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body>
    <header role="banner">
        <nav aria-label="Main navigation">
            <div class="nav-brand">
                <h1>CodeQuest</h1>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html">Dashboard</a></li>
                <li><a href="#" class="active">Animations</a></li>
            </ul>
        </nav>
    </header>

    <main role="main">
        <section class="hero">
            <h1>Animations Demo</h1>
            <p>Keyframes for loading, success, errors</p>
        </section>

        <section class="demo-section">
            <h2>Loading Animations</h2>
            <div class="animation-grid">
                <div class="animation-card">
                    <h4>Spinner</h4>
                    <div class="animation-preview" id="spinner-demo">
                        <div class="loading-spinner"></div>
                    </div>
                    <div class="controls">
                        <button class="btn" onclick="animationController.showLoading('#spinner-demo', 'spinner')">Start</button>
                        <button class="btn btn-secondary" onclick="animationController.clearAnimations('#spinner-demo')">Stop</button>
                    </div>
                </div>

                <div class="animation-card">
                    <h4>Dots</h4>
                    <div class="animation-preview" id="dots-demo">
                        <span class="loading-dots">Loading</span>
                    </div>
                    <div class="controls">
                        <button class="btn" onclick="animationController.showLoading('#dots-demo', 'dots')">Start</button>
                        <button class="btn btn-secondary" onclick="animationController.clearAnimations('#dots-demo')">Stop</button>
                    </div>
                </div>

                <div class="animation-card">
                    <h4>Pulse</h4>
                    <div class="animation-preview" id="pulse-demo">
                        <div class="demo-element">Pulse</div>
                    </div>
                    <div class="controls">
                        <button class="btn" onclick="animationController.showLoading('#pulse-demo', 'pulse')">Start</button>
                        <button class="btn btn-secondary" onclick="animationController.clearAnimations('#pulse-demo')">Stop</button>
                    </div>
                </div>

                <div class="animation-card">
                    <h4>Bounce</h4>
                    <div class="animation-preview" id="bounce-demo">
                        <div class="demo-element">Bounce</div>
                    </div>
                    <div class="controls">
                        <button class="btn" onclick="animationController.showLoading('#bounce-demo', 'bounce')">Start</button>
                        <button class="btn btn-secondary" onclick="animationController.clearAnimations('#bounce-demo')">Stop</button>
                    </div>
                </div>

                <div class="animation-card">
                    <h4>Progress Bar</h4>
                    <div class="animation-preview" id="progress-demo">
                        <div class="loading-progress"></div>
                    </div>
                    <div class="controls">
                        <button class="btn" onclick="animationController.showLoading('#progress-demo', 'progress')">Start</button>
                        <button class="btn btn-secondary" onclick="animationController.clearAnimations('#progress-demo')">Stop</button>
                    </div>
                </div>

                <div class="animation-card">
                    <h4>Skeleton</h4>
                    <div class="animation-preview" id="skeleton-demo">
                        <div class="skeleton-demo loading-skeleton"></div>
                        <div class="skeleton-demo loading-skeleton"></div>
                        <div class="skeleton-demo loading-skeleton"></div>
                    </div>
                    <div class="controls">
                        <button class="btn" onclick="animationController.showLoading('#skeleton-demo', 'skeleton')">Start</button>
                        <button class="btn btn-secondary" onclick="animationController.clearAnimations('#skeleton-demo')">Stop</button>
                    </div>
                </div>
            </div>
        </section>

        <section class="demo-section">
            <h2>Success Animations</h2>
            <div class="animation-grid">
                <div class="animation-card">
                    <h4>Checkmark</h4>
                    <div class="animation-preview" id="success-demo">
                        <div class="demo-element">âœ“</div>
                    </div>
                    <div class="controls">
                        <button class="btn btn-success" onclick="animationController.showSuccess('#success-demo', 'Operation completed!')">Show Success</button>
                        <button class="btn btn-secondary" onclick="animationController.clearAnimations('#success-demo')">Clear</button>
                    </div>
                </div>

                <div class="animation-card">
                    <h4>Fade In Up</h4>
                    <div class="animation-preview" id="fadein-demo">
                        <div class="demo-element">Success</div>
                    </div>
                    <div class="controls">
                        <button class="btn btn-success" onclick="animationController.animate('#fadein-demo', 'fade-in')">Fade In</button>
                        <button class="btn" onclick="animationController.animate('#fadein-demo', 'zoom-in')">Zoom In</button>
                    </div>
                </div>
            </div>
        </section>

        <section class="demo-section">
            <h2>Error Animations</h2>
            <div class="animation-grid">
                <div class="animation-card">
                    <h4>Shake</h4>
                    <div class="animation-preview" id="shake-demo">
                        <div class="demo-element">Error</div>
                    </div>
                    <div class="controls">
                        <button class="btn btn-error" onclick="animationController.showError('#shake-demo', 'Something went wrong!', 'shake')">Shake</button>
                        <button class="btn btn-secondary" onclick="animationController.clearAnimations('#shake-demo')">Clear</button>
                    </div>
                </div>

                <div class="animation-card">
                    <h4>Pulse Error</h4>
                    <div class="animation-preview" id="pulse-error-demo">
                        <div class="demo-element">Error</div>
                    </div>
                    <div class="controls">
                        <button class="btn btn-error" onclick="animationController.showError('#pulse-error-demo', 'Validation failed!', 'pulse')">Pulse</button>
                        <button class="btn btn-secondary" onclick="animationController.clearAnimations('#pulse-error-demo')">Clear</button>
                    </div>
                </div>

                <div class="animation-card">
                    <h4>Wobble</h4>
                    <div class="animation-preview" id="wobble-demo">
                        <div class="demo-element">Error</div>
                    </div>
                    <div class="controls">
                        <button class="btn btn-error" onclick="animationController.showError('#wobble-demo', 'Invalid input!', 'wobble')">Wobble</button>
                        <button class="btn btn-secondary" onclick="animationController.clearAnimations('#wobble-demo')">Clear</button>
                    </div>
                </div>
            </div>
        </section>

        <section class="demo-section">
            <h2>Simulated Operations</h2>
            <div class="animation-grid">
                <div class="animation-card">
                    <h4>Successful Operation</h4>
                    <div class="operation-demo" id="success-operation">
                        <p>Click to simulate a successful operation</p>
                    </div>
                    <div class="controls">
                        <button class="btn" onclick="simulateSuccess()">Start Operation</button>
                    </div>
                </div>

                <div class="animation-card">
                    <h4>Failed Operation</h4>
                    <div class="operation-demo" id="error-operation">
                        <p>Click to simulate a failed operation</p>
                    </div>
                    <div class="controls">
                        <button class="btn" onclick="simulateError()">Start Operation</button>
                    </div>
                </div>
            </div>
        </section>

        <section class="demo-section">
            <h2>Animation Chaining</h2>
            <div class="animation-card">
                <h4>Sequential Animations</h4>
                <div class="animation-preview" id="chain-demo">
                    <div class="demo-element">Chain</div>
                </div>
                <div class="controls">
                    <button class="btn" onclick="chainAnimations()">Start Chain</button>
                    <button class="btn btn-secondary" onclick="animationController.clearAnimations('#chain-demo')">Reset</button>
                </div>
            </div>
        </section>

        <section class="demo-section">
            <h2>Code Examples</h2>
            <div class="code-display">
// Show loading spinner
animationController.showLoading('#element', 'spinner');

// Show success message
animationController.showSuccess('#element', 'Success!');

// Show error with shake animation
animationController.showError('#element', 'Error!', 'shake');

// Simulate async operation
animationController.simulateOperation('#element', async () => {
    // Your async operation here
}, {
    loadingType: 'spinner',
    successMessage: 'Done!',
    errorMessage: 'Failed!'
});
            </div>
        </section>
    </main>

    <script src="js/animation-controller.js"></script>
    <script>
        // Simulate successful operation
        async function simulateSuccess() {
            await animationController.simulateOperation('#success-operation', 
                () => Promise.resolve(), 
                {
                    loadingType: 'spinner',
                    successMessage: 'Operation completed successfully!',
                    duration: 1500
                }
            );
        }

        // Simulate failed operation
        async function simulateError() {
            await animationController.simulateOperation('#error-operation',
                () => Promise.reject(new Error('Simulated error')),
                {
                    loadingType: 'pulse',
                    errorMessage: 'Operation failed! Please try again.',
                    duration: 1500
                }
            );
        }

        // Chain multiple animations
        async function chainAnimations() {
            await animationController.chainAnimations('#chain-demo', [
                { type: 'fade-in', duration: 300 },
                { type: 'zoom-in', duration: 300, delay: 100 },
                { type: 'bounce', duration: 600, delay: 100 },
                { type: 'fade-out', duration: 300, delay: 200 }
            ]);
        }

        // Add hover animations to demo elements
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.demo-element').forEach(element => {
                animationController.addHoverAnimation(element, 'pulse');
            });
        });
    </script>
</body>
</html>